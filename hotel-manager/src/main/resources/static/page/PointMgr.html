<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
    <link href="../css/iview.css" rel="stylesheet" />
    <link href="../css/main.css" rel="stylesheet" />
    <script src="../js/vue.min.js"></script>
    <script src="../js/iview.min.js"></script>
    <script type="text/javascript" src="../js/jquery.js"></script>
    <style>
        html, body{
            margin:0px;
            padding:0px;
            height:100%;
            width:100%;
            overflow:hidden;
        }
        .tool {
            padding: 10px;
        }

    </style>
</head>
<body>
    <div id="app">
        <div class="tool">
            <i-button type="primary">添加</i-button>
            <i-button type="error">删除</i-button>
            <i-button type="success">生成语音</i-button>
        </div>
        <i-table :columns="columns1" :data="data1"></i-table>
    </div>
    <script>
        var vue = new Vue({
            el: '#app',
            data: {
                visible: false,
                columns1: [
                    {
                        type: 'selection',
                        width: 60,
                        align: 'center'
                    },
                    {
                        type: 'index',
                        width: 60,
                        align: 'center'
                    },
                    {
                        title: '名称',
                        key: 'name'
                    },
                    {
                        title: '类型',
                        key: 'type'
                    },
                    {
                        title: '介绍',
                        key: 'address'
                    },
                    {
                        title: 'Action',
                        key: 'action',
                        width: 150,
                        align: 'center',
                        render: (h, params) => {
                            return h('div', [
                                h('Button', {
                                    props: {
                                        type: 'primary',
                                        size: 'small'
                                    },
                                    style: {
                                        marginRight: '5px'
                                    },
                                    on: {
                                        click: () => {
                                        this.show(params.index)
                                        }
                                    }
                                }, '修改'),
                                h('Button', {
                                props: {
                                    type: 'error',
                                    size: 'small'
                                },
                                on: {
                                    click: () => {
                                    this.remove(params.index)
                                }
                            }
                            }, '删除')
                            ]);
                        }
                    }
                ],
                data1: [
                    {
                        name: 'John Brown',
                        age: 18,
                        address: 'New York No. 1 Lake Park',
                        date: '2016-10-03'
                    },
                    {
                        name: 'Jim Green',
                        age: 24,
                        address: 'London No. 1 Lake Park',
                        date: '2016-10-01'
                    },
                    {
                        name: 'Joe Black',
                        age: 30,
                        address: 'Sydney No. 1 Lake Park',
                        date: '2016-10-02'
                    },
                    {
                        name: 'Jon Snow',
                        age: 26,
                        address: 'Ottawa No. 2 Lake Park',
                        date: '2016-10-04'
                    }
                ]
            },
            methods: {
                show: function () {
                    this.visible = true;
                }
            }
        })

        function getPoint(){
            $.get('../getAllPoint', {  }, function (result) {
                var data = result.data;
                debugger;
                vue.data1 = data;
            });
        }

        getPoint();
    </script>
</body>
</html>
